#!/usr/bin/env ruby

begin
  require 'settlers'
rescue LoadError
  raise unless $!.message =~ /\bsettlers$/

  lib = File.expand_path('../../lib', __FILE__)
  if !$:.include?(lib)
    warn "#{$!}. Trying again with #{lib} on the $LOAD_PATH."
    $:.unshift(lib)
    retry
  end

  raise
end

Settlers::Application.new(*ARGV).run
